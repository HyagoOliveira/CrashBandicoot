!function(e){function t(t){for(var o,s,a=t[0],u=t[1],d=t[2],c=0,_=[];c<a.length;c++)s=a[c],Object.prototype.hasOwnProperty.call(i,s)&&i[s]&&_.push(i[s][0]),i[s]=0;for(o in u)Object.prototype.hasOwnProperty.call(u,o)&&(e[o]=u[o]);for(l&&l(t);_.length;)_.shift()();return r.push.apply(r,d||[]),n()}function n(){for(var e,t=0;t<r.length;t++){for(var n=r[t],o=!0,a=1;a<n.length;a++){var u=n[a];0!==i[u]&&(o=!1)}o&&(r.splice(t--,1),e=s(s.s=n[0]))}return e}var o={},i={0:0},r=[];function s(t){if(o[t])return o[t].exports;var n=o[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.m=e,s.c=o,s.d=function(e,t,n){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},s.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)s.d(n,o,function(t){return e[t]}.bind(null,o));return n},s.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="";var a=window.webpackJsonp=window.webpackJsonp||[],u=a.push.bind(a);a.push=t,a=a.slice();for(var d=0;d<a.length;d++)t(a[d]);var l=u;n()}([function(e,t,n){
/*!
 * NativeBus for PopupWebView
 * Copyright(C) King, 2018
 */
!function(){"use strict";var t={Result:Object.freeze({FAILURE:0,SUCCESS:1})},n={};if(window._messageBus)n=window._messageBus;else if(window.webkit&&window.webkit.messageHandlers&&window.webkit.messageHandlers._messageBus){window._messageBus=n;var o=window.webkit.messageHandlers._messageBus;n.postMessage=function(e,t,n){o.postMessage(JSON.stringify({name:e,payload:t,id:n}))},n.sendMessageResponse=function(e,t,n){o.postMessage(JSON.stringify({result:t,payload:n,id:e}))}}else void 0!==window.external&&"notify"in window.external?(window._messageBus=n,n.postMessage=function(e,t,n){window.external.notify(JSON.stringify({name:e,payload:t,id:n}))},n.sendMessageResponse=function(e,t,n){window.external.notify(JSON.stringify({result:t,payload:n,id:e}))}):(window._messageBus=n,n.postMessage=function(e,n,o){window.console.log("message ["+e+"] sent with ["+n+"] payload"),this.onMessageResponse(o,e,t.Result.SUCCESS,null)},n.sendMessageResponse=function(){});var i=null;n.onMessageReceived=function(e,n,o){var r=null;if("number"==typeof o&&isFinite(o)&&o>=0){var s=this,a=!1;r={sendMessageResponse:function(e,n){if(!a){a=!0,e!==t.Result.SUCCESS&&(e=t.Result.FAILURE),"object"==typeof n?n&&(n=JSON.stringify(n)):"string"!=typeof n&&(n=null);try{s.sendMessageResponse(o,e,n)}catch(e){window.console.error("cannot send message response to PopupWebView native implementation ("+e.message+")")}}}}}if(i)try{"function"==typeof i?i(e,n,r):e&&"string"==typeof e?"function"==typeof i[e]?i[e](n,r):r&&r.sendMessageResponse(t.Result.FAILURE,"unknown message"):r&&r.sendMessageResponse(t.Result.FAILURE,"invalid message name")}catch(e){var u="unexpected error while calling message listener ("+e.message+")";window.console.warn(u),r&&r.sendMessageResponse(t.Result.FAILURE,u)}else r&&r.sendMessageResponse(t.Result.FAILURE,"unknown message")};var r=[];n.onMessageResponse=function(e,t,n,o){if("number"==typeof e&&isFinite(e)&&e>=0&&e<r.length){var i=r[e];if(r[e]=null,"function"==typeof i)try{i(t,n,o)}catch(e){window.console.warn("unexpected error while calling message response callback ("+e.message+")")}}},t.setMessageListener=function(e){i="function"==typeof e||"object"==typeof e?e:null},t.postMessage=function(e,o,i){if(e&&"string"==typeof e){"object"==typeof o?o&&(o=JSON.stringify(o)):"string"!=typeof o&&(o=null);var s=-1;if("function"==typeof i){var a=r.length;for(s=0;s<a;++s)if(!r[s]){r[s]=i;break}s>=a&&r.push(i)}try{n.postMessage(e,o,s)}catch(n){var u="cannot post message to PopupWebView native implementation ("+n.message+")";if(window.console.error(u),s>=0){r[s]=null;try{i(e,t.Result.FAILURE,u)}catch(e){window.console.warn("unexpected error while calling message response callback ("+e.message+")")}}}}else if("function"==typeof i)try{i(e,t.Result.FAILURE,"invalid null or empty message name")}catch(e){window.console.warn("unexpected error while calling message response callback ("+e.message+")")}},e.exports=t}()},,,function(e,t,n){"use strict";n.r(t),n.d(t,"comChannel",(function(){return f})),n.d(t,"constants",(function(){return h}));var o=n(0),i=n.n(o);function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}
/*!
 * @king/uv-core v2.7.0
 * Copyright(C) King, 2021 
 */
/*!
 * @king/uv-slayer v2.10.0
 * Copyright(C) King, 2021 
 */
"function"!=typeof Object.assign&&Object.defineProperty(Object,"assign",{value:function(e){if(null==e)throw new TypeError("Cannot convert undefined or null to object");for(var t=Object(e),n=1;n<arguments.length;n++){var o=arguments[n];if(null!=o)for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(t[i]=o[i])}return t},writable:!0,configurable:!0});var s=Object.freeze({EXIT:"exit",SYSTEM_BACK_BUTTON:"systemBackButton",GET_SCENE_INFO:"getSceneInfo",ERROR:"error",TRACK:"track",DISABLE_GAME_MUSIC:"mediaStarted",ENABLE_GAME_MUSIC:"mediaFinished"}),a={},u=null;function d(){return i.a.postMessage(s.EXIT,s.SYSTEM_BACK_BUTTON),!0}a[s.SYSTEM_BACK_BUTTON]=d,i.a.setMessageListener((function(e,t,n){var o=u;if(e&&"string"==typeof e){var r=a[e];r&&(o=r)}if(o)try{var s=o(e,t,n);if(void 0!==s&&n)if(!1===s||s instanceof Error){var d=s&&s.message?s.message:"unspecified failure";n.sendMessageResponse(i.a.Result.FAILURE,d)}else n.sendMessageResponse(i.a.Result.SUCCESS,s)}catch(e){n&&n.sendMessageResponse(i.a.Result.FAILURE,e.message?e.message:"unspecified failure")}else n&&n.sendMessageResponse(i.a.Result.FAILURE,"no message hook defined")}));var l=i.a.Result,c=s,_=i.a.postMessage,p=function(e,t){t=void 0!==t&&!!t,i.a.postMessage(s.ERROR,{terminate:t,errorDescription:e})},f=Object.freeze({__proto__:null,Result:l,Messages:c,postMessage:_,postError:p,postTrack:function(e,t,n,o){e=void 0===e?"":e.toString(),t=void 0===t?"":t.toString(),n=void 0===n?"":n.toString(),o=void 0===o?"":o.toString(),i.a.postMessage(s.TRACK,{category:e,requestAction:t,label:n,requestValue:o})},disableGameMusic:function(){i.a.postMessage(s.DISABLE_GAME_MUSIC)},enableGameMusic:function(){i.a.postMessage(s.ENABLE_GAME_MUSIC)},forceRepaint:function(){setTimeout((function(){document.body.style.transform="translateZ(0)"}),1e3)},setMessageHook:function(e,t){e&&"string"==typeof e?"function"==typeof t?a[e]=t:e===s.SYSTEM_BACK_BUTTON?a[e]=d:delete a[e]:u="function"==typeof t?t:null}});window.onerror=function(e,t,n,o,i){var r={message:e,url:t,line:n||1,column:o||1,error:i};p(JSON.stringify(r))};var h={TOUCHED_CLASS_NAME:"uv-touched",Messages:{CLOSE:"SL_CLOSE",ACTION:"ACTION",SKIP:"SKIP",CTA_BUTTON:"BUTTON"}};function m(e,t){e&&"classList"in e&&(e.classList.add(h.TOUCHED_CLASS_NAME),e.classList.add(h.TOUCHED_CLASS_NAME+"-"+t))}var v=Object.freeze({loaded:!1,success:!1,userId:0,installId:"",funnelId:"",language:"",adId:"",sessionKey:"",appId:0,timestamp:0,forced:!1,shouldPlayAudio:!0,replacements:{translations:{},styles:{},attributes:{}}}),y=v;function g(e,t,n){var o,i,s={};if(n&&"string"==typeof n){try{s=JSON.parse(n)}catch(e){window.console.warn("cannot decode information received from native application ("+e.message+")")}s&&"object"===r(s)||(s={})}s.overrides&&("object"===r(s.overrides)&&(s.translations=function(e,t){var n=/background:\s?url\("?([^"]*)"?\);?/im,o={translations:{},styles:{},attributes:{}};for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var s=e[i];if(s&&"object"===r(s)){var a=s.attributes&&"object"===r(s.attributes),u=s.style&&"string"==typeof s.style,d=s.innerHTML&&"string"==typeof s.innerHTML;a&&(o.attributes[i]=s.attributes),u&&(o.styles[i]=s.style),d&&(o.translations[i]=s.innerHTML);try{for(var l=t.querySelectorAll(i),c=l.length-1;c>=0;--c){var _=l[c];try{if(d&&_.classList.contains("html-placeholder")&&(_.innerHTML=s.innerHTML,m(_,"html")),a&&(Object.hasOwnProperty.call(s.attributes,"innerHTML")&&delete s.attributes.innerHTML,Object.assign(_,s.attributes),m(_,"attr")),u&&_.style){if("img"===_.nodeName.toLowerCase()){var p=n.exec(s.style);null!==p&&p.length&&(_.src=p[1],s.style=s.style.replace(p[0],""))}_.style.cssText+=s.style,m(_,"style")}}catch(e){window.console.warn("cannot override HTML-element attributes ("+e.message+")")}}}catch(e){window.console.warn("cannot select HTML-elements to override ("+e.message+")")}}}return o}(s.overrides,document)),delete s.overrides),s.loaded=!0,s.success=t===f.Result.SUCCESS,y=Object.freeze(Object.assign({},v,s)),document.documentElement.setAttribute("lang",y.language),o=y,(i=document.createEvent("CustomEvent")).initCustomEvent("NativeAppReady",!1,!1,o),document.dispatchEvent(i)}(function(e){for(var t=e.head.getElementsByTagName("meta"),n=null,o=t.length-1;o>=0;--o){var i=t[o];"viewport"===i.name&&(n?i.parentNode.removeChild(i):n=i)}return n||((n=e.createElement("meta")).name="viewport",e.head.appendChild(n)),n}(document)).content="width=device-width, shrink-to-fit=no, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover",document.addEventListener("DOMContentLoaded",(function(){window.setTimeout((function(){f.postMessage(f.Messages.GET_SCENE_INFO,null,g)}),0)}))},function(e,t,n){"use strict";
/*!
 * @king/uv-scene v2.5.0
 * Copyright(C) King, 2021 
 */
function o(){}function i(e){var t,n=!1;return function(){return n||(t=e(),n=!0),t}}n.r(t),n.d(t,"Scene",(function(){return m})),n.d(t,"SceneManager",(function(){return v})),n.d(t,"helpers",(function(){return p}));var r,s,a=function(e){var t=0;return{hangFire:function(e){return t++,void 0===e&&(e=o),function(){var n;try{n=e()}catch(e){}return t--,n}},call:function(n){n=void 0===n?6e3:n;var o=Date.now(),i=setInterval((function(){if(t<=0||n<=Date.now()-o)return clearInterval(i),e()}),200)}}},u=(r=function(){var e,t=document.createElement("fake"),n={animation:"animationend",OAnimation:"oAnimationEnd",MozAnimation:"animationend",WebkitAnimation:"webkitAnimationEnd"};for(e in n)if(void 0!==t.style[e])return n[e]},function(){return void 0!==s?s:s=r()})(),d={SHOWING:"rendering",SHOWED:"rendered",HIDING:"hiding",HIDDEN:"hidden"},l={HIDE:"hidden",SHOW:"show"};function c(e){return function(t,n){n=void 0===n?1500:n;var o=void 0,i=function(e){void 0!==o&&clearInterval(o),t()};o=setTimeout((function(){e.removeEventListener(u,i),t()}),n),e.addEventListener(u,i,{once:!0})}}function _(e,t){if(Object.prototype.hasOwnProperty.call(e,"length"))for(var n=0;n<e.length;n++)t(e[n],n);else for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t(e[o],o)}var p=Object.freeze({__proto__:null,noop:o,once:i,DelayedAction:a,Events:d,Classes:l,afterAnimationOf:c,forEach:_}),f=_;function h(e,t){Object.hasOwnProperty.call(e.listeners,t)&&f(e.listeners[t],(function(t){t(e)}))}var m=function(e,t,n,o){if(t=void 0===t?{}:t,n=void 0===n?[]:n,o=void 0===o?{}:o,this._initialized=!1,this._renderized=!1,this.node=e,!(this.node instanceof Element))throw new Error("The scene needs at least one valid node.");this.animationDelay=o.animationDelay||100,this.stopEmissionsOnResize=!Object.hasOwnProperty.call(o,"stopEmissionsOnResize")||o.stopEmissionsOnResize,this.bindings=n,this.listeners=[],this.animators=[],this.nativeAppInfo=t;var i=this;this.triggerHiddenAction=new a((function(){h(i,d.HIDDEN),i.listeners=[]})),this.animatedNodes=this.node.querySelectorAll("[data-animation]")};m.prototype.setup=function(){var e=this;f(this.bindings,(function(t){var n=e.node.querySelectorAll(t.selector);0!==n.length&&f(n,(function(n){t.listener={handleEvent:function(n){t.fn(e,n)}},f(["click","tap"],(function(e){n.addEventListener(e,t.listener)}))}))}))},m.prototype.isInitialized=function(){return this._initialized},m.prototype.hasBeenRenderized=function(){return this._renderized},m.prototype.isVisible=function(){return this.hasBeenRenderized()},m.prototype.show=function(){if(this.isInitialized()||(this.setup(),this._initialized=!0),!this._renderized){var e=this;return setTimeout((function(){h(e,d.SHOWING),e.node.classList.remove(l.HIDE),e.node.classList.add(l.SHOW),f(e.animatedNodes,(function(e){e.classList.add(e.dataset.animation)})),f(e.animators,(function(e){e.start()})),e._renderized=!0,"none"!==window.getComputedStyle(e.node).animationName?c(e.node)((function(){h(e,d.SHOWED)})):h(e,d.SHOWED)}),this.animationDelay)}},m.prototype.hide=function(e){var t=this;h(t,d.HIDING),f(t.animatedNodes,(function(e){e.classList.remove(e.dataset.animation)})),f(t.animators,(function(e){e.stop()})),f(t.bindings,(function(e){var n=t.node.querySelectorAll(e.selector);f(n,(function(t){f(["click","tap"],(function(n){t.removeEventListener(n,e.listener)}))}))})),t.node.classList.add(l.HIDE),t.node.classList.remove(l.SHOW),t._initialized=!1,t._renderized=!1,""!==window.getComputedStyle(t.node).getPropertyValue("animation")&&c(t.node)(this.triggerHiddenAction.hangFire()),this.triggerHiddenAction.call(e)},m.prototype.subscribe=function(e,t){Object.hasOwnProperty.call(this.listeners,e)||(this.listeners[e]=[]),this.listeners[e].push(t)},m.prototype.isSoundActivated=function(){return!!(e=this.nativeAppInfo)&&!!e.detail&&!!e.detail.shouldPlayAudio;var e},m.prototype.setAudioPlayer=function(e){this.audioPlayer=e,this.isSoundActivated()&&this.audioPlayer.load()},m.prototype.playSound=function(e,t){if(void 0===t&&(t=o),Object.hasOwnProperty.call(this,"audioPlayer")&&this.isSoundActivated()){var n=i(t);try{this.audioPlayer.play(e,n)}catch(e){console.error(e),n()}}else t()},m.prototype.playSoundOnShow=function(e){var t=this;t.subscribe(d.SHOWING,(function(){t.playSound(e)}))},m.prototype.playSoundOnHide=function(e){var t=this;t.subscribe(d.HIDING,(function(){t.playSound(e,t.triggerHiddenAction.hangFire())}))};var v=function(){this.scenes={}};v.prototype.addScene=function(e,t){if(Object.hasOwnProperty.call(this.scenes,e))throw Error('The scene "'+e+'" already exists in the SceneManager.');this.scenes[e]=t},v.prototype.hideScene=function(e){this.getScene(e).hide()},v.prototype.getScene=function(e){if(!Object.hasOwnProperty.call(this.scenes,e))throw Error('The scene "'+e+'" does not exists in the SceneManager.');return this.scenes[e]},v.prototype.showScene=function(e,t){t=void 0===t||t;var n=Object.hasOwnProperty.call(this.scenes,e)?this.scenes[e]:void 0;if(void 0===n)throw new Error("The scene is not registered on the Scene Manager.");var o=[];for(var i in this.scenes)if(Object.hasOwnProperty.call(this.scenes,i)){var r=this.scenes[i];r.isVisible()&&t?r.hide():r.isVisible()&&o.push(r)}o.forEach((function(e){setTimeout((function(){e.hide()}),n.animationDelay)})),n.show()}},function(e,t,n){"use strict";n.r(t),n.d(t,"AudioPlayer",(function(){return i}));
/*!
 * @king/uv-audio v2.1.3
 * Copyright(C) King, 2020 
 */
var o=n(8).Howl,i=function(e,t){this.config={audios:e,sprite:t},this.audioLib=null};i.prototype.load=function(){this.audioLib=new o({src:this.config.audios,sprite:this.config.sprite,preload:!0,pool:3})},i.prototype.play=function(e,t){this.audioLib&&this.audioLib.once("end",t,e).play(e)}},,,function(e,t,n){(function(n){var o;
/*!
 *  howler.js v2.1.3
 *  howlerjs.com
 *
 *  (c) 2013-2019, James Simpson of GoldFire Studios
 *  goldfirestudios.com
 *
 *  MIT License
 */!function(){"use strict";var i=function(){this.init()};i.prototype={init:function(){var e=this||r;return e._counter=1e3,e._html5AudioPool=[],e.html5PoolSize=10,e._codecs={},e._howls=[],e._muted=!1,e._volume=1,e._canPlayEvent="canplaythrough",e._navigator="undefined"!=typeof window&&window.navigator?window.navigator:null,e.masterGain=null,e.noAudio=!1,e.usingWebAudio=!0,e.autoSuspend=!0,e.ctx=null,e.autoUnlock=!0,e._setup(),e},volume:function(e){var t=this||r;if(e=parseFloat(e),t.ctx||p(),void 0!==e&&e>=0&&e<=1){if(t._volume=e,t._muted)return t;t.usingWebAudio&&t.masterGain.gain.setValueAtTime(e,r.ctx.currentTime);for(var n=0;n<t._howls.length;n++)if(!t._howls[n]._webAudio)for(var o=t._howls[n]._getSoundIds(),i=0;i<o.length;i++){var s=t._howls[n]._soundById(o[i]);s&&s._node&&(s._node.volume=s._volume*e)}return t}return t._volume},mute:function(e){var t=this||r;t.ctx||p(),t._muted=e,t.usingWebAudio&&t.masterGain.gain.setValueAtTime(e?0:t._volume,r.ctx.currentTime);for(var n=0;n<t._howls.length;n++)if(!t._howls[n]._webAudio)for(var o=t._howls[n]._getSoundIds(),i=0;i<o.length;i++){var s=t._howls[n]._soundById(o[i]);s&&s._node&&(s._node.muted=!!e||s._muted)}return t},unload:function(){for(var e=this||r,t=e._howls.length-1;t>=0;t--)e._howls[t].unload();return e.usingWebAudio&&e.ctx&&void 0!==e.ctx.close&&(e.ctx.close(),e.ctx=null,p()),e},codecs:function(e){return(this||r)._codecs[e.replace(/^x-/,"")]},_setup:function(){var e=this||r;if(e.state=e.ctx&&e.ctx.state||"suspended",e._autoSuspend(),!e.usingWebAudio)if("undefined"!=typeof Audio)try{void 0===(new Audio).oncanplaythrough&&(e._canPlayEvent="canplay")}catch(t){e.noAudio=!0}else e.noAudio=!0;try{(new Audio).muted&&(e.noAudio=!0)}catch(e){}return e.noAudio||e._setupCodecs(),e},_setupCodecs:function(){var e=this||r,t=null;try{t="undefined"!=typeof Audio?new Audio:null}catch(t){return e}if(!t||"function"!=typeof t.canPlayType)return e;var n=t.canPlayType("audio/mpeg;").replace(/^no$/,""),o=e._navigator&&e._navigator.userAgent.match(/OPR\/([0-6].)/g),i=o&&parseInt(o[0].split("/")[1],10)<33;return e._codecs={mp3:!(i||!n&&!t.canPlayType("audio/mp3;").replace(/^no$/,"")),mpeg:!!n,opus:!!t.canPlayType('audio/ogg; codecs="opus"').replace(/^no$/,""),ogg:!!t.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),oga:!!t.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),wav:!!t.canPlayType('audio/wav; codecs="1"').replace(/^no$/,""),aac:!!t.canPlayType("audio/aac;").replace(/^no$/,""),caf:!!t.canPlayType("audio/x-caf;").replace(/^no$/,""),m4a:!!(t.canPlayType("audio/x-m4a;")||t.canPlayType("audio/m4a;")||t.canPlayType("audio/aac;")).replace(/^no$/,""),mp4:!!(t.canPlayType("audio/x-mp4;")||t.canPlayType("audio/mp4;")||t.canPlayType("audio/aac;")).replace(/^no$/,""),weba:!!t.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,""),webm:!!t.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,""),dolby:!!t.canPlayType('audio/mp4; codecs="ec-3"').replace(/^no$/,""),flac:!!(t.canPlayType("audio/x-flac;")||t.canPlayType("audio/flac;")).replace(/^no$/,"")},e},_unlockAudio:function(){var e=this||r;if(!e._audioUnlocked&&e.ctx){e._audioUnlocked=!1,e.autoUnlock=!1,e._mobileUnloaded||44100===e.ctx.sampleRate||(e._mobileUnloaded=!0,e.unload()),e._scratchBuffer=e.ctx.createBuffer(1,1,22050);var t=function(n){for(var o=0;o<e.html5PoolSize;o++)try{var i=new Audio;i._unlocked=!0,e._releaseHtml5Audio(i)}catch(n){e.noAudio=!0}for(o=0;o<e._howls.length;o++)if(!e._howls[o]._webAudio)for(var r=e._howls[o]._getSoundIds(),s=0;s<r.length;s++){var a=e._howls[o]._soundById(r[s]);a&&a._node&&!a._node._unlocked&&(a._node._unlocked=!0,a._node.load())}e._autoResume();var u=e.ctx.createBufferSource();u.buffer=e._scratchBuffer,u.connect(e.ctx.destination),void 0===u.start?u.noteOn(0):u.start(0),"function"==typeof e.ctx.resume&&e.ctx.resume(),u.onended=function(){u.disconnect(0),e._audioUnlocked=!0,document.removeEventListener("touchstart",t,!0),document.removeEventListener("touchend",t,!0),document.removeEventListener("click",t,!0);for(var n=0;n<e._howls.length;n++)e._howls[n]._emit("unlock")}};return document.addEventListener("touchstart",t,!0),document.addEventListener("touchend",t,!0),document.addEventListener("click",t,!0),e}},_obtainHtml5Audio:function(){var e=this||r;if(e._html5AudioPool.length)return e._html5AudioPool.pop();var t=(new Audio).play();return t&&"undefined"!=typeof Promise&&(t instanceof Promise||"function"==typeof t.then)&&t.catch((function(){console.warn("HTML5 Audio pool exhausted, returning potentially locked audio object.")})),new Audio},_releaseHtml5Audio:function(e){var t=this||r;return e._unlocked&&t._html5AudioPool.push(e),t},_autoSuspend:function(){var e=this;if(e.autoSuspend&&e.ctx&&void 0!==e.ctx.suspend&&r.usingWebAudio){for(var t=0;t<e._howls.length;t++)if(e._howls[t]._webAudio)for(var n=0;n<e._howls[t]._sounds.length;n++)if(!e._howls[t]._sounds[n]._paused)return e;return e._suspendTimer&&clearTimeout(e._suspendTimer),e._suspendTimer=setTimeout((function(){e.autoSuspend&&(e._suspendTimer=null,e.state="suspending",e.ctx.suspend().then((function(){e.state="suspended",e._resumeAfterSuspend&&(delete e._resumeAfterSuspend,e._autoResume())})))}),3e4),e}},_autoResume:function(){var e=this;if(e.ctx&&void 0!==e.ctx.resume&&r.usingWebAudio)return"running"===e.state&&e._suspendTimer?(clearTimeout(e._suspendTimer),e._suspendTimer=null):"suspended"===e.state?(e.ctx.resume().then((function(){e.state="running";for(var t=0;t<e._howls.length;t++)e._howls[t]._emit("resume")})),e._suspendTimer&&(clearTimeout(e._suspendTimer),e._suspendTimer=null)):"suspending"===e.state&&(e._resumeAfterSuspend=!0),e}};var r=new i,s=function(e){e.src&&0!==e.src.length?this.init(e):console.error("An array of source files must be passed with any new Howl.")};s.prototype={init:function(e){var t=this;return r.ctx||p(),t._autoplay=e.autoplay||!1,t._format="string"!=typeof e.format?e.format:[e.format],t._html5=e.html5||!1,t._muted=e.mute||!1,t._loop=e.loop||!1,t._pool=e.pool||5,t._preload="boolean"!=typeof e.preload||e.preload,t._rate=e.rate||1,t._sprite=e.sprite||{},t._src="string"!=typeof e.src?e.src:[e.src],t._volume=void 0!==e.volume?e.volume:1,t._xhrWithCredentials=e.xhrWithCredentials||!1,t._duration=0,t._state="unloaded",t._sounds=[],t._endTimers={},t._queue=[],t._playLock=!1,t._onend=e.onend?[{fn:e.onend}]:[],t._onfade=e.onfade?[{fn:e.onfade}]:[],t._onload=e.onload?[{fn:e.onload}]:[],t._onloaderror=e.onloaderror?[{fn:e.onloaderror}]:[],t._onplayerror=e.onplayerror?[{fn:e.onplayerror}]:[],t._onpause=e.onpause?[{fn:e.onpause}]:[],t._onplay=e.onplay?[{fn:e.onplay}]:[],t._onstop=e.onstop?[{fn:e.onstop}]:[],t._onmute=e.onmute?[{fn:e.onmute}]:[],t._onvolume=e.onvolume?[{fn:e.onvolume}]:[],t._onrate=e.onrate?[{fn:e.onrate}]:[],t._onseek=e.onseek?[{fn:e.onseek}]:[],t._onunlock=e.onunlock?[{fn:e.onunlock}]:[],t._onresume=[],t._webAudio=r.usingWebAudio&&!t._html5,void 0!==r.ctx&&r.ctx&&r.autoUnlock&&r._unlockAudio(),r._howls.push(t),t._autoplay&&t._queue.push({event:"play",action:function(){t.play()}}),t._preload&&t.load(),t},load:function(){var e=null;if(r.noAudio)this._emit("loaderror",null,"No audio support.");else{"string"==typeof this._src&&(this._src=[this._src]);for(var t=0;t<this._src.length;t++){var n,o;if(this._format&&this._format[t])n=this._format[t];else{if("string"!=typeof(o=this._src[t])){this._emit("loaderror",null,"Non-string found in selected audio sources - ignoring.");continue}(n=/^data:audio\/([^;,]+);/i.exec(o))||(n=/\.([^.]+)$/.exec(o.split("?",1)[0])),n&&(n=n[1].toLowerCase())}if(n||console.warn('No file extension was found. Consider using the "format" property or specify an extension.'),n&&r.codecs(n)){e=this._src[t];break}}if(e)return this._src=e,this._state="loading","https:"===window.location.protocol&&"http:"===e.slice(0,5)&&(this._html5=!0,this._webAudio=!1),new a(this),this._webAudio&&d(this),this;this._emit("loaderror",null,"No codec support for selected audio sources.")}},play:function(e,t){var n=this,o=null;if("number"==typeof e)o=e,e=null;else{if("string"==typeof e&&"loaded"===n._state&&!n._sprite[e])return null;if(void 0===e&&(e="__default",!n._playLock)){for(var i=0,s=0;s<n._sounds.length;s++)n._sounds[s]._paused&&!n._sounds[s]._ended&&(i++,o=n._sounds[s]._id);1===i?e=null:o=null}}var a=o?n._soundById(o):n._inactiveSound();if(!a)return null;if(o&&!e&&(e=a._sprite||"__default"),"loaded"!==n._state){a._sprite=e,a._ended=!1;var u=a._id;return n._queue.push({event:"play",action:function(){n.play(u)}}),u}if(o&&!a._paused)return t||n._loadQueue("play"),a._id;n._webAudio&&r._autoResume();var d=Math.max(0,a._seek>0?a._seek:n._sprite[e][0]/1e3),l=Math.max(0,(n._sprite[e][0]+n._sprite[e][1])/1e3-d),c=1e3*l/Math.abs(a._rate),_=n._sprite[e][0]/1e3,p=(n._sprite[e][0]+n._sprite[e][1])/1e3;a._sprite=e,a._ended=!1;var f=function(){a._paused=!1,a._seek=d,a._start=_,a._stop=p,a._loop=!(!a._loop&&!n._sprite[e][2])};if(!(d>=p)){var h=a._node;if(n._webAudio){var m=function(){n._playLock=!1,f(),n._refreshBuffer(a);var e=a._muted||n._muted?0:a._volume;h.gain.setValueAtTime(e,r.ctx.currentTime),a._playStart=r.ctx.currentTime,void 0===h.bufferSource.start?a._loop?h.bufferSource.noteGrainOn(0,d,86400):h.bufferSource.noteGrainOn(0,d,l):a._loop?h.bufferSource.start(0,d,86400):h.bufferSource.start(0,d,l),c!==1/0&&(n._endTimers[a._id]=setTimeout(n._ended.bind(n,a),c)),t||setTimeout((function(){n._emit("play",a._id),n._loadQueue()}),0)};"running"===r.state?m():(n._playLock=!0,n.once("resume",m),n._clearTimer(a._id))}else{var v=function(){h.currentTime=d,h.muted=a._muted||n._muted||r._muted||h.muted,h.volume=a._volume*r.volume(),h.playbackRate=a._rate;try{var o=h.play();if(o&&"undefined"!=typeof Promise&&(o instanceof Promise||"function"==typeof o.then)?(n._playLock=!0,f(),o.then((function(){n._playLock=!1,h._unlocked=!0,t||(n._emit("play",a._id),n._loadQueue())})).catch((function(){n._playLock=!1,n._emit("playerror",a._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction."),a._ended=!0,a._paused=!0}))):t||(n._playLock=!1,f(),n._emit("play",a._id),n._loadQueue()),h.playbackRate=a._rate,h.paused)return void n._emit("playerror",a._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction.");"__default"!==e||a._loop?n._endTimers[a._id]=setTimeout(n._ended.bind(n,a),c):(n._endTimers[a._id]=function(){n._ended(a),h.removeEventListener("ended",n._endTimers[a._id],!1)},h.addEventListener("ended",n._endTimers[a._id],!1))}catch(e){n._emit("playerror",a._id,e)}};"data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA"===h.src&&(h.src=n._src,h.load());var y=window&&window.ejecta||!h.readyState&&r._navigator.isCocoonJS;if(h.readyState>=3||y)v();else{n._playLock=!0;var g=function(){v(),h.removeEventListener(r._canPlayEvent,g,!1)};h.addEventListener(r._canPlayEvent,g,!1),n._clearTimer(a._id)}}return a._id}n._ended(a)},pause:function(e){var t=this;if("loaded"!==t._state||t._playLock)return t._queue.push({event:"pause",action:function(){t.pause(e)}}),t;for(var n=t._getSoundIds(e),o=0;o<n.length;o++){t._clearTimer(n[o]);var i=t._soundById(n[o]);if(i&&!i._paused&&(i._seek=t.seek(n[o]),i._rateSeek=0,i._paused=!0,t._stopFade(n[o]),i._node))if(t._webAudio){if(!i._node.bufferSource)continue;void 0===i._node.bufferSource.stop?i._node.bufferSource.noteOff(0):i._node.bufferSource.stop(0),t._cleanBuffer(i._node)}else isNaN(i._node.duration)&&i._node.duration!==1/0||i._node.pause();arguments[1]||t._emit("pause",i?i._id:null)}return t},stop:function(e,t){var n=this;if("loaded"!==n._state||n._playLock)return n._queue.push({event:"stop",action:function(){n.stop(e)}}),n;for(var o=n._getSoundIds(e),i=0;i<o.length;i++){n._clearTimer(o[i]);var r=n._soundById(o[i]);r&&(r._seek=r._start||0,r._rateSeek=0,r._paused=!0,r._ended=!0,n._stopFade(o[i]),r._node&&(n._webAudio?r._node.bufferSource&&(void 0===r._node.bufferSource.stop?r._node.bufferSource.noteOff(0):r._node.bufferSource.stop(0),n._cleanBuffer(r._node)):isNaN(r._node.duration)&&r._node.duration!==1/0||(r._node.currentTime=r._start||0,r._node.pause(),r._node.duration===1/0&&n._clearSound(r._node))),t||n._emit("stop",r._id))}return n},mute:function(e,t){var n=this;if("loaded"!==n._state||n._playLock)return n._queue.push({event:"mute",action:function(){n.mute(e,t)}}),n;if(void 0===t){if("boolean"!=typeof e)return n._muted;n._muted=e}for(var o=n._getSoundIds(t),i=0;i<o.length;i++){var s=n._soundById(o[i]);s&&(s._muted=e,s._interval&&n._stopFade(s._id),n._webAudio&&s._node?s._node.gain.setValueAtTime(e?0:s._volume,r.ctx.currentTime):s._node&&(s._node.muted=!!r._muted||e),n._emit("mute",s._id))}return n},volume:function(){var e,t,n,o=this,i=arguments;if(0===i.length)return o._volume;if(1===i.length||2===i.length&&void 0===i[1]){var s=o._getSoundIds(),a=s.indexOf(i[0]);a>=0?t=parseInt(i[0],10):e=parseFloat(i[0])}else i.length>=2&&(e=parseFloat(i[0]),t=parseInt(i[1],10));if(!(void 0!==e&&e>=0&&e<=1))return(n=t?o._soundById(t):o._sounds[0])?n._volume:0;if("loaded"!==o._state||o._playLock)return o._queue.push({event:"volume",action:function(){o.volume.apply(o,i)}}),o;void 0===t&&(o._volume=e),t=o._getSoundIds(t);for(var u=0;u<t.length;u++)(n=o._soundById(t[u]))&&(n._volume=e,i[2]||o._stopFade(t[u]),o._webAudio&&n._node&&!n._muted?n._node.gain.setValueAtTime(e,r.ctx.currentTime):n._node&&!n._muted&&(n._node.volume=e*r.volume()),o._emit("volume",n._id));return o},fade:function(e,t,n,o){var i=this;if("loaded"!==i._state||i._playLock)return i._queue.push({event:"fade",action:function(){i.fade(e,t,n,o)}}),i;e=parseFloat(e),t=parseFloat(t),n=parseFloat(n),i.volume(e,o);for(var s=i._getSoundIds(o),a=0;a<s.length;a++){var u=i._soundById(s[a]);if(u){if(o||i._stopFade(s[a]),i._webAudio&&!u._muted){var d=r.ctx.currentTime,l=d+n/1e3;u._volume=e,u._node.gain.setValueAtTime(e,d),u._node.gain.linearRampToValueAtTime(t,l)}i._startFadeInterval(u,e,t,n,s[a],void 0===o)}}return i},_startFadeInterval:function(e,t,n,o,i,r){var s=this,a=t,u=n-t,d=Math.abs(u/.01),l=Math.max(4,d>0?o/d:o),c=Date.now();e._fadeTo=n,e._interval=setInterval((function(){var i=(Date.now()-c)/o;c=Date.now(),a+=u*i,a=Math.max(0,a),a=Math.min(1,a),a=Math.round(100*a)/100,s._webAudio?e._volume=a:s.volume(a,e._id,!0),r&&(s._volume=a),(n<t&&a<=n||n>t&&a>=n)&&(clearInterval(e._interval),e._interval=null,e._fadeTo=null,s.volume(n,e._id),s._emit("fade",e._id))}),l)},_stopFade:function(e){var t=this._soundById(e);return t&&t._interval&&(this._webAudio&&t._node.gain.cancelScheduledValues(r.ctx.currentTime),clearInterval(t._interval),t._interval=null,this.volume(t._fadeTo,e),t._fadeTo=null,this._emit("fade",e)),this},loop:function(){var e,t,n,o=this,i=arguments;if(0===i.length)return o._loop;if(1===i.length){if("boolean"!=typeof i[0])return!!(n=o._soundById(parseInt(i[0],10)))&&n._loop;e=i[0],o._loop=e}else 2===i.length&&(e=i[0],t=parseInt(i[1],10));for(var r=o._getSoundIds(t),s=0;s<r.length;s++)(n=o._soundById(r[s]))&&(n._loop=e,o._webAudio&&n._node&&n._node.bufferSource&&(n._node.bufferSource.loop=e,e&&(n._node.bufferSource.loopStart=n._start||0,n._node.bufferSource.loopEnd=n._stop)));return o},rate:function(){var e,t,n,o=this,i=arguments;if(0===i.length)t=o._sounds[0]._id;else if(1===i.length){var s=o._getSoundIds(),a=s.indexOf(i[0]);a>=0?t=parseInt(i[0],10):e=parseFloat(i[0])}else 2===i.length&&(e=parseFloat(i[0]),t=parseInt(i[1],10));if("number"!=typeof e)return(n=o._soundById(t))?n._rate:o._rate;if("loaded"!==o._state||o._playLock)return o._queue.push({event:"rate",action:function(){o.rate.apply(o,i)}}),o;void 0===t&&(o._rate=e),t=o._getSoundIds(t);for(var u=0;u<t.length;u++)if(n=o._soundById(t[u])){o.playing(t[u])&&(n._rateSeek=o.seek(t[u]),n._playStart=o._webAudio?r.ctx.currentTime:n._playStart),n._rate=e,o._webAudio&&n._node&&n._node.bufferSource?n._node.bufferSource.playbackRate.setValueAtTime(e,r.ctx.currentTime):n._node&&(n._node.playbackRate=e);var d=o.seek(t[u]),l=(o._sprite[n._sprite][0]+o._sprite[n._sprite][1])/1e3-d,c=1e3*l/Math.abs(n._rate);!o._endTimers[t[u]]&&n._paused||(o._clearTimer(t[u]),o._endTimers[t[u]]=setTimeout(o._ended.bind(o,n),c)),o._emit("rate",n._id)}return o},seek:function(){var e,t,n=this,o=arguments;if(0===o.length)t=n._sounds[0]._id;else if(1===o.length){var i=n._getSoundIds(),s=i.indexOf(o[0]);s>=0?t=parseInt(o[0],10):n._sounds.length&&(t=n._sounds[0]._id,e=parseFloat(o[0]))}else 2===o.length&&(e=parseFloat(o[0]),t=parseInt(o[1],10));if(void 0===t)return n;if("loaded"!==n._state||n._playLock)return n._queue.push({event:"seek",action:function(){n.seek.apply(n,o)}}),n;var a=n._soundById(t);if(a){if(!("number"==typeof e&&e>=0)){if(n._webAudio){var u=n.playing(t)?r.ctx.currentTime-a._playStart:0,d=a._rateSeek?a._rateSeek-a._seek:0;return a._seek+(d+u*Math.abs(a._rate))}return a._node.currentTime}var l=n.playing(t);l&&n.pause(t,!0),a._seek=e,a._ended=!1,n._clearTimer(t),n._webAudio||!a._node||isNaN(a._node.duration)||(a._node.currentTime=e);var c=function(){n._emit("seek",t),l&&n.play(t,!0)};if(l&&!n._webAudio){var _=function(){n._playLock?setTimeout(_,0):c()};setTimeout(_,0)}else c()}return n},playing:function(e){if("number"==typeof e){var t=this._soundById(e);return!!t&&!t._paused}for(var n=0;n<this._sounds.length;n++)if(!this._sounds[n]._paused)return!0;return!1},duration:function(e){var t=this._duration,n=this._soundById(e);return n&&(t=this._sprite[n._sprite][1]/1e3),t},state:function(){return this._state},unload:function(){for(var e=this,t=e._sounds,n=0;n<t.length;n++)t[n]._paused||e.stop(t[n]._id),e._webAudio||(e._clearSound(t[n]._node),t[n]._node.removeEventListener("error",t[n]._errorFn,!1),t[n]._node.removeEventListener(r._canPlayEvent,t[n]._loadFn,!1),r._releaseHtml5Audio(t[n]._node)),delete t[n]._node,e._clearTimer(t[n]._id);var o=r._howls.indexOf(e);o>=0&&r._howls.splice(o,1);var i=!0;for(n=0;n<r._howls.length;n++)if(r._howls[n]._src===e._src||e._src.indexOf(r._howls[n]._src)>=0){i=!1;break}return u&&i&&delete u[e._src],r.noAudio=!1,e._state="unloaded",e._sounds=[],e=null,null},on:function(e,t,n,o){var i=this["_on"+e];return"function"==typeof t&&i.push(o?{id:n,fn:t,once:o}:{id:n,fn:t}),this},off:function(e,t,n){var o=this["_on"+e],i=0;if("number"==typeof t&&(n=t,t=null),t||n)for(i=0;i<o.length;i++){var r=n===o[i].id;if(t===o[i].fn&&r||!t&&r){o.splice(i,1);break}}else if(e)this["_on"+e]=[];else{var s=Object.keys(this);for(i=0;i<s.length;i++)0===s[i].indexOf("_on")&&Array.isArray(this[s[i]])&&(this[s[i]]=[])}return this},once:function(e,t,n){return this.on(e,t,n,1),this},_emit:function(e,t,n){for(var o=this["_on"+e],i=o.length-1;i>=0;i--)o[i].id&&o[i].id!==t&&"load"!==e||(setTimeout(function(e){e.call(this,t,n)}.bind(this,o[i].fn),0),o[i].once&&this.off(e,o[i].fn,o[i].id));return this._loadQueue(e),this},_loadQueue:function(e){if(this._queue.length>0){var t=this._queue[0];t.event===e&&(this._queue.shift(),this._loadQueue()),e||t.action()}return this},_ended:function(e){var t=e._sprite;if(!this._webAudio&&e._node&&!e._node.paused&&!e._node.ended&&e._node.currentTime<e._stop)return setTimeout(this._ended.bind(this,e),100),this;var n=!(!e._loop&&!this._sprite[t][2]);if(this._emit("end",e._id),!this._webAudio&&n&&this.stop(e._id,!0).play(e._id),this._webAudio&&n){this._emit("play",e._id),e._seek=e._start||0,e._rateSeek=0,e._playStart=r.ctx.currentTime;var o=1e3*(e._stop-e._start)/Math.abs(e._rate);this._endTimers[e._id]=setTimeout(this._ended.bind(this,e),o)}return this._webAudio&&!n&&(e._paused=!0,e._ended=!0,e._seek=e._start||0,e._rateSeek=0,this._clearTimer(e._id),this._cleanBuffer(e._node),r._autoSuspend()),this._webAudio||n||this.stop(e._id,!0),this},_clearTimer:function(e){if(this._endTimers[e]){if("function"!=typeof this._endTimers[e])clearTimeout(this._endTimers[e]);else{var t=this._soundById(e);t&&t._node&&t._node.removeEventListener("ended",this._endTimers[e],!1)}delete this._endTimers[e]}return this},_soundById:function(e){for(var t=0;t<this._sounds.length;t++)if(e===this._sounds[t]._id)return this._sounds[t];return null},_inactiveSound:function(){this._drain();for(var e=0;e<this._sounds.length;e++)if(this._sounds[e]._ended)return this._sounds[e].reset();return new a(this)},_drain:function(){var e=this._pool,t=0,n=0;if(!(this._sounds.length<e)){for(n=0;n<this._sounds.length;n++)this._sounds[n]._ended&&t++;for(n=this._sounds.length-1;n>=0;n--){if(t<=e)return;this._sounds[n]._ended&&(this._webAudio&&this._sounds[n]._node&&this._sounds[n]._node.disconnect(0),this._sounds.splice(n,1),t--)}}},_getSoundIds:function(e){if(void 0===e){for(var t=[],n=0;n<this._sounds.length;n++)t.push(this._sounds[n]._id);return t}return[e]},_refreshBuffer:function(e){return e._node.bufferSource=r.ctx.createBufferSource(),e._node.bufferSource.buffer=u[this._src],e._panner?e._node.bufferSource.connect(e._panner):e._node.bufferSource.connect(e._node),e._node.bufferSource.loop=e._loop,e._loop&&(e._node.bufferSource.loopStart=e._start||0,e._node.bufferSource.loopEnd=e._stop||0),e._node.bufferSource.playbackRate.setValueAtTime(e._rate,r.ctx.currentTime),this},_cleanBuffer:function(e){var t=r._navigator&&r._navigator.vendor.indexOf("Apple")>=0;if(r._scratchBuffer&&e.bufferSource&&(e.bufferSource.onended=null,e.bufferSource.disconnect(0),t))try{e.bufferSource.buffer=r._scratchBuffer}catch(e){}return e.bufferSource=null,this},_clearSound:function(e){/MSIE |Trident\//.test(r._navigator&&r._navigator.userAgent)||(e.src="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA")}};var a=function(e){this._parent=e,this.init()};a.prototype={init:function(){var e=this._parent;return this._muted=e._muted,this._loop=e._loop,this._volume=e._volume,this._rate=e._rate,this._seek=0,this._paused=!0,this._ended=!0,this._sprite="__default",this._id=++r._counter,e._sounds.push(this),this.create(),this},create:function(){var e=this._parent,t=r._muted||this._muted||this._parent._muted?0:this._volume;return e._webAudio?(this._node=void 0===r.ctx.createGain?r.ctx.createGainNode():r.ctx.createGain(),this._node.gain.setValueAtTime(t,r.ctx.currentTime),this._node.paused=!0,this._node.connect(r.masterGain)):r.noAudio||(this._node=r._obtainHtml5Audio(),this._errorFn=this._errorListener.bind(this),this._node.addEventListener("error",this._errorFn,!1),this._loadFn=this._loadListener.bind(this),this._node.addEventListener(r._canPlayEvent,this._loadFn,!1),this._node.src=e._src,this._node.preload="auto",this._node.volume=t*r.volume(),this._node.load()),this},reset:function(){var e=this._parent;return this._muted=e._muted,this._loop=e._loop,this._volume=e._volume,this._rate=e._rate,this._seek=0,this._rateSeek=0,this._paused=!0,this._ended=!0,this._sprite="__default",this._id=++r._counter,this},_errorListener:function(){this._parent._emit("loaderror",this._id,this._node.error?this._node.error.code:0),this._node.removeEventListener("error",this._errorFn,!1)},_loadListener:function(){var e=this._parent;e._duration=Math.ceil(10*this._node.duration)/10,0===Object.keys(e._sprite).length&&(e._sprite={__default:[0,1e3*e._duration]}),"loaded"!==e._state&&(e._state="loaded",e._emit("load"),e._loadQueue()),this._node.removeEventListener(r._canPlayEvent,this._loadFn,!1)}};var u={},d=function(e){var t=e._src;if(u[t])return e._duration=u[t].duration,void _(e);if(/^data:[^;]+;base64,/.test(t)){for(var n=atob(t.split(",")[1]),o=new Uint8Array(n.length),i=0;i<n.length;++i)o[i]=n.charCodeAt(i);c(o.buffer,e)}else{var r=new XMLHttpRequest;r.open("GET",t,!0),r.withCredentials=e._xhrWithCredentials,r.responseType="arraybuffer",r.onload=function(){var t=(r.status+"")[0];"0"===t||"2"===t||"3"===t?c(r.response,e):e._emit("loaderror",null,"Failed loading audio file with status: "+r.status+".")},r.onerror=function(){e._webAudio&&(e._html5=!0,e._webAudio=!1,e._sounds=[],delete u[t],e.load())},l(r)}},l=function(e){try{e.send()}catch(t){e.onerror()}},c=function(e,t){var n=function(){t._emit("loaderror",null,"Decoding audio data failed.")},o=function(e){e&&t._sounds.length>0?(u[t._src]=e,_(t,e)):n()};"undefined"!=typeof Promise&&1===r.ctx.decodeAudioData.length?r.ctx.decodeAudioData(e).then(o).catch(n):r.ctx.decodeAudioData(e,o,n)},_=function(e,t){t&&!e._duration&&(e._duration=t.duration),0===Object.keys(e._sprite).length&&(e._sprite={__default:[0,1e3*e._duration]}),"loaded"!==e._state&&(e._state="loaded",e._emit("load"),e._loadQueue())},p=function(){if(r.usingWebAudio){try{"undefined"!=typeof AudioContext?r.ctx=new AudioContext:"undefined"!=typeof webkitAudioContext?r.ctx=new webkitAudioContext:r.usingWebAudio=!1}catch(e){r.usingWebAudio=!1}r.ctx||(r.usingWebAudio=!1);var e=/iP(hone|od|ad)/.test(r._navigator&&r._navigator.platform),t=r._navigator&&r._navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/),n=t?parseInt(t[1],10):null;if(e&&n&&n<9){var o=/safari/.test(r._navigator&&r._navigator.userAgent.toLowerCase());(r._navigator&&r._navigator.standalone&&!o||r._navigator&&!r._navigator.standalone&&!o)&&(r.usingWebAudio=!1)}r.usingWebAudio&&(r.masterGain=void 0===r.ctx.createGain?r.ctx.createGainNode():r.ctx.createGain(),r.masterGain.gain.setValueAtTime(r._muted?0:r._volume,r.ctx.currentTime),r.masterGain.connect(r.ctx.destination)),r._setup()}};void 0===(o=function(){return{Howler:r,Howl:s}}.apply(t,[]))||(e.exports=o),t.Howler=r,t.Howl=s,"undefined"!=typeof window?(window.HowlerGlobal=i,window.Howler=r,window.Howl=s,window.Sound=a):void 0!==n&&(n.HowlerGlobal=i,n.Howler=r,n.Howl=s,n.Sound=a)}(),
/*!
 *  Spatial Plugin - Adds support for stereo and 3D audio where Web Audio is supported.
 *  
 *  howler.js v2.1.3
 *  howlerjs.com
 *
 *  (c) 2013-2019, James Simpson of GoldFire Studios
 *  goldfirestudios.com
 *
 *  MIT License
 */
function(){"use strict";var e;HowlerGlobal.prototype._pos=[0,0,0],HowlerGlobal.prototype._orientation=[0,0,-1,0,1,0],HowlerGlobal.prototype.stereo=function(e){if(!this.ctx||!this.ctx.listener)return this;for(var t=this._howls.length-1;t>=0;t--)this._howls[t].stereo(e);return this},HowlerGlobal.prototype.pos=function(e,t,n){return this.ctx&&this.ctx.listener?(t="number"!=typeof t?this._pos[1]:t,n="number"!=typeof n?this._pos[2]:n,"number"!=typeof e?this._pos:(this._pos=[e,t,n],void 0!==this.ctx.listener.positionX?(this.ctx.listener.positionX.setTargetAtTime(this._pos[0],Howler.ctx.currentTime,.1),this.ctx.listener.positionY.setTargetAtTime(this._pos[1],Howler.ctx.currentTime,.1),this.ctx.listener.positionZ.setTargetAtTime(this._pos[2],Howler.ctx.currentTime,.1)):this.ctx.listener.setPosition(this._pos[0],this._pos[1],this._pos[2]),this)):this},HowlerGlobal.prototype.orientation=function(e,t,n,o,i,r){if(!this.ctx||!this.ctx.listener)return this;var s=this._orientation;return t="number"!=typeof t?s[1]:t,n="number"!=typeof n?s[2]:n,o="number"!=typeof o?s[3]:o,i="number"!=typeof i?s[4]:i,r="number"!=typeof r?s[5]:r,"number"!=typeof e?s:(this._orientation=[e,t,n,o,i,r],void 0!==this.ctx.listener.forwardX?(this.ctx.listener.forwardX.setTargetAtTime(e,Howler.ctx.currentTime,.1),this.ctx.listener.forwardY.setTargetAtTime(t,Howler.ctx.currentTime,.1),this.ctx.listener.forwardZ.setTargetAtTime(n,Howler.ctx.currentTime,.1),this.ctx.listener.upX.setTargetAtTime(o,Howler.ctx.currentTime,.1),this.ctx.listener.upY.setTargetAtTime(i,Howler.ctx.currentTime,.1),this.ctx.listener.upZ.setTargetAtTime(r,Howler.ctx.currentTime,.1)):this.ctx.listener.setOrientation(e,t,n,o,i,r),this)},Howl.prototype.init=(e=Howl.prototype.init,function(t){return this._orientation=t.orientation||[1,0,0],this._stereo=t.stereo||null,this._pos=t.pos||null,this._pannerAttr={coneInnerAngle:void 0!==t.coneInnerAngle?t.coneInnerAngle:360,coneOuterAngle:void 0!==t.coneOuterAngle?t.coneOuterAngle:360,coneOuterGain:void 0!==t.coneOuterGain?t.coneOuterGain:0,distanceModel:void 0!==t.distanceModel?t.distanceModel:"inverse",maxDistance:void 0!==t.maxDistance?t.maxDistance:1e4,panningModel:void 0!==t.panningModel?t.panningModel:"HRTF",refDistance:void 0!==t.refDistance?t.refDistance:1,rolloffFactor:void 0!==t.rolloffFactor?t.rolloffFactor:1},this._onstereo=t.onstereo?[{fn:t.onstereo}]:[],this._onpos=t.onpos?[{fn:t.onpos}]:[],this._onorientation=t.onorientation?[{fn:t.onorientation}]:[],e.call(this,t)}),Howl.prototype.stereo=function(e,n){var o=this;if(!o._webAudio)return o;if("loaded"!==o._state)return o._queue.push({event:"stereo",action:function(){o.stereo(e,n)}}),o;var i=void 0===Howler.ctx.createStereoPanner?"spatial":"stereo";if(void 0===n){if("number"!=typeof e)return o._stereo;o._stereo=e,o._pos=[e,0,0]}for(var r=o._getSoundIds(n),s=0;s<r.length;s++){var a=o._soundById(r[s]);if(a){if("number"!=typeof e)return a._stereo;a._stereo=e,a._pos=[e,0,0],a._node&&(a._pannerAttr.panningModel="equalpower",a._panner&&a._panner.pan||t(a,i),"spatial"===i?void 0!==a._panner.positionX?(a._panner.positionX.setValueAtTime(e,Howler.ctx.currentTime),a._panner.positionY.setValueAtTime(0,Howler.ctx.currentTime),a._panner.positionZ.setValueAtTime(0,Howler.ctx.currentTime)):a._panner.setPosition(e,0,0):a._panner.pan.setValueAtTime(e,Howler.ctx.currentTime)),o._emit("stereo",a._id)}}return o},Howl.prototype.pos=function(e,n,o,i){var r=this;if(!r._webAudio)return r;if("loaded"!==r._state)return r._queue.push({event:"pos",action:function(){r.pos(e,n,o,i)}}),r;if(n="number"!=typeof n?0:n,o="number"!=typeof o?-.5:o,void 0===i){if("number"!=typeof e)return r._pos;r._pos=[e,n,o]}for(var s=r._getSoundIds(i),a=0;a<s.length;a++){var u=r._soundById(s[a]);if(u){if("number"!=typeof e)return u._pos;u._pos=[e,n,o],u._node&&(u._panner&&!u._panner.pan||t(u,"spatial"),void 0!==u._panner.positionX?(u._panner.positionX.setValueAtTime(e,Howler.ctx.currentTime),u._panner.positionY.setValueAtTime(n,Howler.ctx.currentTime),u._panner.positionZ.setValueAtTime(o,Howler.ctx.currentTime)):u._panner.setPosition(e,n,o)),r._emit("pos",u._id)}}return r},Howl.prototype.orientation=function(e,n,o,i){var r=this;if(!r._webAudio)return r;if("loaded"!==r._state)return r._queue.push({event:"orientation",action:function(){r.orientation(e,n,o,i)}}),r;if(n="number"!=typeof n?r._orientation[1]:n,o="number"!=typeof o?r._orientation[2]:o,void 0===i){if("number"!=typeof e)return r._orientation;r._orientation=[e,n,o]}for(var s=r._getSoundIds(i),a=0;a<s.length;a++){var u=r._soundById(s[a]);if(u){if("number"!=typeof e)return u._orientation;u._orientation=[e,n,o],u._node&&(u._panner||(u._pos||(u._pos=r._pos||[0,0,-.5]),t(u,"spatial")),void 0!==u._panner.orientationX?(u._panner.orientationX.setValueAtTime(e,Howler.ctx.currentTime),u._panner.orientationY.setValueAtTime(n,Howler.ctx.currentTime),u._panner.orientationZ.setValueAtTime(o,Howler.ctx.currentTime)):u._panner.setOrientation(e,n,o)),r._emit("orientation",u._id)}}return r},Howl.prototype.pannerAttr=function(){var e,n,o,i=this,r=arguments;if(!i._webAudio)return i;if(0===r.length)return i._pannerAttr;if(1===r.length){if("object"!=typeof r[0])return(o=i._soundById(parseInt(r[0],10)))?o._pannerAttr:i._pannerAttr;e=r[0],void 0===n&&(e.pannerAttr||(e.pannerAttr={coneInnerAngle:e.coneInnerAngle,coneOuterAngle:e.coneOuterAngle,coneOuterGain:e.coneOuterGain,distanceModel:e.distanceModel,maxDistance:e.maxDistance,refDistance:e.refDistance,rolloffFactor:e.rolloffFactor,panningModel:e.panningModel}),i._pannerAttr={coneInnerAngle:void 0!==e.pannerAttr.coneInnerAngle?e.pannerAttr.coneInnerAngle:i._coneInnerAngle,coneOuterAngle:void 0!==e.pannerAttr.coneOuterAngle?e.pannerAttr.coneOuterAngle:i._coneOuterAngle,coneOuterGain:void 0!==e.pannerAttr.coneOuterGain?e.pannerAttr.coneOuterGain:i._coneOuterGain,distanceModel:void 0!==e.pannerAttr.distanceModel?e.pannerAttr.distanceModel:i._distanceModel,maxDistance:void 0!==e.pannerAttr.maxDistance?e.pannerAttr.maxDistance:i._maxDistance,refDistance:void 0!==e.pannerAttr.refDistance?e.pannerAttr.refDistance:i._refDistance,rolloffFactor:void 0!==e.pannerAttr.rolloffFactor?e.pannerAttr.rolloffFactor:i._rolloffFactor,panningModel:void 0!==e.pannerAttr.panningModel?e.pannerAttr.panningModel:i._panningModel})}else 2===r.length&&(e=r[0],n=parseInt(r[1],10));for(var s=i._getSoundIds(n),a=0;a<s.length;a++)if(o=i._soundById(s[a])){var u=o._pannerAttr;u={coneInnerAngle:void 0!==e.coneInnerAngle?e.coneInnerAngle:u.coneInnerAngle,coneOuterAngle:void 0!==e.coneOuterAngle?e.coneOuterAngle:u.coneOuterAngle,coneOuterGain:void 0!==e.coneOuterGain?e.coneOuterGain:u.coneOuterGain,distanceModel:void 0!==e.distanceModel?e.distanceModel:u.distanceModel,maxDistance:void 0!==e.maxDistance?e.maxDistance:u.maxDistance,refDistance:void 0!==e.refDistance?e.refDistance:u.refDistance,rolloffFactor:void 0!==e.rolloffFactor?e.rolloffFactor:u.rolloffFactor,panningModel:void 0!==e.panningModel?e.panningModel:u.panningModel};var d=o._panner;d?(d.coneInnerAngle=u.coneInnerAngle,d.coneOuterAngle=u.coneOuterAngle,d.coneOuterGain=u.coneOuterGain,d.distanceModel=u.distanceModel,d.maxDistance=u.maxDistance,d.refDistance=u.refDistance,d.rolloffFactor=u.rolloffFactor,d.panningModel=u.panningModel):(o._pos||(o._pos=i._pos||[0,0,-.5]),t(o,"spatial"))}return i},Sound.prototype.init=function(e){return function(){var t=this._parent;this._orientation=t._orientation,this._stereo=t._stereo,this._pos=t._pos,this._pannerAttr=t._pannerAttr,e.call(this),this._stereo?t.stereo(this._stereo):this._pos&&t.pos(this._pos[0],this._pos[1],this._pos[2],this._id)}}(Sound.prototype.init),Sound.prototype.reset=function(e){return function(){var t=this._parent;return this._orientation=t._orientation,this._stereo=t._stereo,this._pos=t._pos,this._pannerAttr=t._pannerAttr,this._stereo?t.stereo(this._stereo):this._pos?t.pos(this._pos[0],this._pos[1],this._pos[2],this._id):this._panner&&(this._panner.disconnect(0),this._panner=void 0,t._refreshBuffer(this)),e.call(this)}}(Sound.prototype.reset);var t=function(e,t){"spatial"===(t=t||"spatial")?(e._panner=Howler.ctx.createPanner(),e._panner.coneInnerAngle=e._pannerAttr.coneInnerAngle,e._panner.coneOuterAngle=e._pannerAttr.coneOuterAngle,e._panner.coneOuterGain=e._pannerAttr.coneOuterGain,e._panner.distanceModel=e._pannerAttr.distanceModel,e._panner.maxDistance=e._pannerAttr.maxDistance,e._panner.refDistance=e._pannerAttr.refDistance,e._panner.rolloffFactor=e._pannerAttr.rolloffFactor,e._panner.panningModel=e._pannerAttr.panningModel,void 0!==e._panner.positionX?(e._panner.positionX.setValueAtTime(e._pos[0],Howler.ctx.currentTime),e._panner.positionY.setValueAtTime(e._pos[1],Howler.ctx.currentTime),e._panner.positionZ.setValueAtTime(e._pos[2],Howler.ctx.currentTime)):e._panner.setPosition(e._pos[0],e._pos[1],e._pos[2]),void 0!==e._panner.orientationX?(e._panner.orientationX.setValueAtTime(e._orientation[0],Howler.ctx.currentTime),e._panner.orientationY.setValueAtTime(e._orientation[1],Howler.ctx.currentTime),e._panner.orientationZ.setValueAtTime(e._orientation[2],Howler.ctx.currentTime)):e._panner.setOrientation(e._orientation[0],e._orientation[1],e._orientation[2])):(e._panner=Howler.ctx.createStereoPanner(),e._panner.pan.setValueAtTime(e._stereo,Howler.ctx.currentTime)),e._panner.connect(e._node),e._paused||e._parent.pause(e._id,!0).play(e._id,!0)}}()}).call(this,n(9))},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n}]);